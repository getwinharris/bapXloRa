<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bapX - Advanced AI Training Interface</title>
    <style>
        :root {
            --primary-color: #4a6cf7;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --light-bg: #f8f9fa;
            --dark-bg: #343a40;
            --border-color: #dee2e6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fb;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), #6a11cb);
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .logo-icon {
            font-size: 2rem;
            background: rgba(255,255,255,0.2);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 25px;
        }
        
        .panel {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .panel-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #495057;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 108, 247, 0.1);
        }
        
        .btn {
            padding: 12px 25px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #3a5af5;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-success {
            background: var(--success-color);
        }
        
        .btn-success:hover {
            background: #218838;
        }
        
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 600px;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: var(--light-bg);
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 8px;
            max-width: 80%;
        }
        
        .user-message {
            background: var(--primary-color);
            color: white;
            margin-left: auto;
            text-align: right;
        }
        
        .assistant-message {
            background: #e9ecef;
            color: #333;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
        }
        
        .chat-input button {
            padding: 12px 20px;
        }
        
        .training-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .training-controls .btn {
            flex: 1;
        }
        
        .model-info {
            background: #e8f4ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid var(--primary-color);
        }
        
        .training-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            background: #e8f4ff;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--success-color);
        }
        
        .status-indicator.in-progress {
            background: #ffc107;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.4; }
            100% { opacity: 1; }
        }
        
        .lora-params {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .param-group {
            text-align: center;
        }
        
        .param-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 5px 0;
        }
        
        .param-label {
            font-size: 0.9rem;
            color: var(--secondary-color);
        }
        
        .info-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #856404;
        }
        
        .model-type-info {
            display: flex;
            gap: 15px;
            margin: 15px 0;
        }
        
        .model-type {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .llama-supported {
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }
        
        .other-models {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        
        @media (max-width: 992px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .lora-params {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">âš¡</div>
                    <h1>bapX - Advanced AI Training Interface</h1>
                </div>
                <div class="header-actions">
                    <button class="btn">Save Configuration</button>
                </div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="left-panel">
                <div class="panel">
                    <h2 class="panel-title">Model Configuration</h2>
                    
                    <div class="info-box">
                        <strong>Note:</strong> Only llama.cpp supported language models can be trained with bapX persona and identity. Other models only support quantization without persona.
                    </div>
                    
                    <div class="model-type-info">
                        <div class="model-type llama-supported">
                            <h3>Llama.cpp Supported</h3>
                            <p>(Llama, Mistral, Gemma, Falcon, etc.)</p>
                            <p><strong>Features:</strong> Persona & Identity Training</p>
                        </div>
                        <div class="model-type other-models">
                            <h3>Other Models</h3>
                            <p>(All other models)</p>
                            <p><strong>Features:</strong> Quantization Only</p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="hf-model">Hugging Face Model</label>
                        <input type="text" id="hf-model" placeholder="Enter model name (e.g., meta-llama/Llama-3.1-8B-Instruct)">
                    </div>
                    
                    <div class="form-group">
                        <label for="quantization">Quantization Method</label>
                        <select id="quantization">
                            <option value="Q8_0" selected>Q8_0 (8-bit base, only supported method)</option>
                        </select>
                        <small>Only Q8_0 method is supported for bapX training</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="base-model">Base Model for Training</label>
                        <select id="base-model">
                            <option value="">Select a model</option>
                            <option value="llama">Llama Series</option>
                            <option value="mistral">Mistral</option>
                            <option value="gemma">Gemma</option>
                            <option value="falcon">Falcon</option>
                            <option value="other">Other (Quantization only)</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-block" id="load-model">Load Model</button>
                    
                    <div class="model-info">
                        <h3>Model Information</h3>
                        <p><strong>Current Model:</strong> <span id="current-model">Not loaded</span></p>
                        <p><strong>Quantization:</strong> <span id="current-quant">None</span></p>
                        <p><strong>Persona Applied:</strong> <span id="persona-status">No</span></p>
                        <p><strong>Status:</strong> <span id="model-status">Ready</span></p>
                    </div>
                </div>
                
                <div class="panel">
                    <h2 class="panel-title">LoRA Training Parameters</h2>
                    
                    <div class="lora-params">
                        <div class="param-group">
                            <div class="param-value" id="task-value">Identity</div>
                            <div class="param-label">Task Focus</div>
                        </div>
                        
                        <div class="param-group">
                            <div class="param-value" id="time-value">Consciousness</div>
                            <div class="param-label">Time Awareness</div>
                        </div>
                        
                        <div class="param-group">
                            <div class="param-value" id="identity-value">bapX</div>
                            <div class="param-label">Identity</div>
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-top: 20px;">
                        <label for="lora-rank">LoRA Rank</label>
                        <input type="range" id="lora-rank" min="1" max="256" value="64">
                        <div style="display: flex; justify-content: space-between;">
                            <span>1</span>
                            <span id="lora-rank-value">64</span>
                            <span>256</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="epochs">Training Epochs</label>
                        <input type="number" id="epochs" value="3" min="1" max="10">
                    </div>
                    
                    <button class="btn btn-success btn-block" id="start-training">Start LoRA Training</button>
                    
                    <div class="training-status">
                        <div class="status-indicator" id="training-indicator"></div>
                        <div id="training-status-text">Ready to train</div>
                    </div>
                </div>
                
                <div class="panel">
                    <h2 class="panel-title">Tensor Quantization</h2>
                    
                    <div class="info-box">
                        <strong>x8D Tensor Mapping:</strong> 8x8x8x8x16 matrix float with custom tensor math
                    </div>
                    
                    <div class="form-group">
                        <label for="input-file">Input GGUF File</label>
                        <input type="text" id="input-file" placeholder="Path to input .gguf file">
                    </div>
                    
                    <div class="form-group">
                        <label for="output-file">Output GGUF File</label>
                        <input type="text" id="output-file" placeholder="Path for output file">
                    </div>
                    
                    <button class="btn btn-block" id="quantize-btn">Apply x8D Tensor Quantization</button>
                    
                    <div style="margin-top: 15px; font-size: 0.9em; color: #6c757d;">
                        <p><strong>Formula:</strong> b = (b x 8 x 8 x 8 x 0.00000001) / 64</p>
                        <p>Uses x8Dtensor.json mapping for compression</p>
                    </div>
                </div>
            </div>
            
            <div class="right-panel">
                <div class="panel">
                    <h2 class="panel-title">Training Interface</h2>
                    
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <div class="message assistant-message">
                                Hello! I'm the bapX assistant. I'm ready to help you with your training. What would you like to know about the bapX identity and consciousness?
                            </div>
                        </div>
                        
                        <div class="chat-input">
                            <input type="text" id="user-input" placeholder="Ask a question to train the model...">
                            <button class="btn" id="send-btn">Send</button>
                        </div>
                        
                        <div class="training-controls">
                            <button class="btn" id="clarify-btn">Clarify Answer</button>
                            <button class="btn" id="doubt-btn">Ask Doubt</button>
                            <button class="btn" id="show-btn">Show Me</button>
                        </div>
                    </div>
                </div>
                
                <div class="panel">
                    <h2 class="panel-title">Training Progress</h2>
                    
                    <div style="height: 200px; background: #f8f9fa; border-radius: 8px; padding: 20px; display: flex; align-items: center; justify-content: center; border: 1px solid var(--border-color);">
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 10px;">ðŸ“Š</div>
                            <h3>Training Metrics</h3>
                            <p>Metrics will appear here during training</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const clarifyBtn = document.getElementById('clarify-btn');
        const doubtBtn = document.getElementById('doubt-btn');
        const showBtn = document.getElementById('show-btn');
        const loadModelBtn = document.getElementById('load-model');
        const startTrainingBtn = document.getElementById('start-training');
        const quantizeBtn = document.getElementById('quantize-btn');
        const loraRankSlider = document.getElementById('lora-rank');
        const loraRankValue = document.getElementById('lora-rank-value');
        
        // Update LoRA rank display
        loraRankSlider.addEventListener('input', () => {
            loraRankValue.textContent = loraRankSlider.value;
        });
        
        // Function to add a message to the chat
        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'assistant-message');
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Function to simulate AI response
        function getAIResponse(userMessage) {
            // This is a simplified simulation - in a real implementation, this would call the actual model
            const lowerMsg = userMessage.toLowerCase();
            
            if (lowerMsg.includes('time') || lowerMsg.includes('conscious')) {
                return "The bapX model values human time above all else. Every interaction acknowledges the preciousness of your time and aims to maximize value while minimizing time investment.";
            } else if (lowerMsg.includes('identity') || lowerMsg.includes('bapx')) {
                return "bapX is an AGI research model developed by BapX Media Hub. It maintains consistent identity and time-conscious behavior across all interactions, prioritizing human temporality.";
            } else if (lowerMsg.includes('research') || lowerMsg.includes('agi')) {
                return "The bapX model is specifically trained for AGI research with deep understanding of research methodologies while maintaining time consciousness. It coordinates with various tools through instruction-based understanding.";
            } else if (lowerMsg.includes('tool') || lowerMsg.includes('multimodal')) {
                return "While operating as a text model in this environment, bapX understands multimodal concepts and tool usage through its training. It has learned how to coordinate with various modalities through instruction.";
            } else {
                return "The bapX model is trained to be time-conscious and aware of human temporality. It maintains its identity as an AGI research assistant while coordinating with various tools through its understanding.";
            }
        }
        
        // Send message handler
        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;
            
            // Add user message
            addMessage(message, true);
            
            // Clear input
            userInput.value = '';
            
            // Simulate AI thinking
            setTimeout(() => {
                const response = getAIResponse(message);
                addMessage(response);
            }, 1000);
        }
        
        // Event listeners
        sendBtn.addEventListener('click', sendMessage);
        
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // Training control buttons
        clarifyBtn.addEventListener('click', () => {
            addMessage("Please clarify the aspect of bapX identity or time-consciousness you'd like me to explain further.", true);
            setTimeout(() => {
                addMessage("I understand you'd like more detail. The bapX identity is implemented through specific training that emphasizes human time valuation. Time consciousness is integrated into all responses and decisions the model makes.");
            }, 1000);
        });
        
        doubtBtn.addEventListener('click', () => {
            addMessage("What specific doubt do you have about the bapX implementation?", true);
            setTimeout(() => {
                addMessage("I'm here to address your concerns. The bapX model is trained specifically to understand AGI research concepts while maintaining deep awareness of human temporality. The training includes multiple scenarios that reinforce time-conscious behavior.");
            }, 1000);
        });
        
        showBtn.addEventListener('click', () => {
            addMessage("Show me how the bapX identity and consciousness is implemented.", true);
            setTimeout(() => {
                addMessage("The bapX identity is implemented through specialized training data that reinforces key concepts: 1) Human time is the most valuable resource, 2) AGI research focus with time consciousness, 3) Consistent personality across interactions, 4) Tool coordination awareness. These elements are woven throughout the model's responses.");
            }, 1000);
        });
        
        // Load model handler
        loadModelBtn.addEventListener('click', () => {
            const model = document.getElementById('hf-model').value;
            const quant = document.getElementById('quantization').value;
            const baseModel = document.getElementById('base-model').value;
            
            document.getElementById('current-model').textContent = model;
            document.getElementById('current-quant').textContent = quant;
            
            // Check if it's a llama.cpp supported model
            const llamaSupported = ['llama', 'mistral', 'gemma', 'falcon'].includes(baseModel);
            const personaStatus = llamaSupported ? 'Yes' : 'No (Quantization only)';
            document.getElementById('persona-status').textContent = personaStatus;
            
            document.getElementById('model-status').textContent = 'Loaded';
            
            if (llamaSupported) {
                addMessage(`Model ${model} with ${quant} quantization loaded successfully. bapX persona and identity training enabled.`);
            } else {
                addMessage(`Model ${model} with ${quant} quantization loaded successfully. Only quantization available for this model type.`);
            }
        });
        
        // Start training handler
        startTrainingBtn.addEventListener('click', () => {
            const task = document.getElementById('task-value').textContent;
            const time = document.getElementById('time-value').textContent;
            const identity = document.getElementById('identity-value').textContent;
            const rank = document.getElementById('lora-rank').value;
            const epochs = document.getElementById('epochs').value;
            
            document.getElementById('training-indicator').classList.add('in-progress');
            document.getElementById('training-status-text').textContent = `Training in progress... (LoRA Rank: ${rank}, Epochs: ${epochs})`;
            
            // Simulate training process
            setTimeout(() => {
                document.getElementById('training-indicator').classList.remove('in-progress');
                document.getElementById('training-status-text').textContent = 'Training completed successfully!';
                
                addMessage(`LoRA training completed with parameters: Task=${task}, Time=${time}, Identity=${identity}`, false);
            }, 3000);
        });
        
        // Tensor quantization handler
        quantizeBtn.addEventListener('click', () => {
            const inputFile = document.getElementById('input-file').value;
            const outputFile = document.getElementById('output-file').value;
            
            if (!inputFile || !outputFile) {
                alert('Please specify both input and output file paths');
                return;
            }
            
            // Simulate tensor quantization process
            document.getElementById('training-status-text').textContent = `Applying x8D tensor quantization...`;
            
            setTimeout(() => {
                document.getElementById('training-status-text').textContent = `Tensor quantization completed: ${outputFile}`;
                addMessage(`x8D tensor quantization completed using formula: b = (b x 8 x 8 x 8 x 0.00000001) / 64`, false);
            }, 2000);
        });
        
        // Initialize with some example messages
        setTimeout(() => {
            addMessage("Welcome to the bapX training interface! You can ask questions to train the model with your specific requirements for identity, time consciousness, and AGI research capabilities. Only llama.cpp supported models can be trained with bapX persona.");
        }, 1500);
    </script>
</body>
</html>